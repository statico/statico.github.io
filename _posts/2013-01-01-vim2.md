---
layout: post
title: Everything I Missed in "Vim After 11 Years"
draft: true
---
<br/>

Wow, what a response!

## Motion

There was a lot of noise about my remapping of the <kbd>;</kbd> key, and for good reason. The two camps of opinion were "Yeah, I never use that" and "What are you talking about? <kbd>;</kbd> is *essential*!". What does it do? From [motion.txt][semicolon]:

    ;     Repeat latest f, t, F or T [count] times.

Indeed, <kbd>;</kbd> *does* seem pretty useful. I occasionally have looped over a <kbd>t</kbd><kbd>x</kbd><kbd>n</kbd> sequence to move to subsequent `x`'s on a line, so <kbd>;</kbd> would make that a lot easier. I might just have to switch it from my beloved Ctrl-P buffer-switching key.

Speaking of motion, a plugin brought to my attention was [EasyMotion][easymotion], which gives you a visual way of moving around. The trick is to keep your eye on the location where you want to move (my leader key is <kbd>,</kbd>):

(XXXX video of easymotion)

EasyMotion is certainly neat and I'll give it a try, but after so many years of using Vim's advanced movement keys, I'm sure that I'll never remember to use it. If I need to move to the second word three lines down it's a lot faster to remember <kbd>j</kbd><kbd>j</kbd><kbd>j</kbd><kbd>w</kbd><kbd>w</kbd> than to remember what incantation causes EasyMotion to appear. It would much more useful if a single key could bring up EasyMotion for all points of text on the screen -- the same way [Vimium plugin for Chrome][vimium] lets you navigate to links on a web page.

(XXXX video of vimium link nav)

Someone also mentioned [vim-seek](https://github.com/goldfeld/vim-seek) which "aims to make inline navigation effortless," but I don't have time to learn of it, and nobody I know has smashed down my door to tell me how life-changing it is.

## Leaders

A bit of discussion involved [the leader key][leader]. The leader key is an arbitrary key which plugins use for keybindings so that they don't interfere with your own custom bindings. By default it's <kbd>\</kbd>, but a lot of people remap it to <kbd>,</kbd> for similar reasons as the semicolon.

{% highlight vim %}
let mapleader = ","
{% endhighlight %}

A handful of comments on Reddit and Hacker News mentioned changing it to the space bar which, unlike the <kbd>;</kbd> and <kbd>,</kbd>, *really* doesn't do much in normal mode by default (it performs the motion as <kbd>l</kbd> and <kbd>→</kbd>).

{% highlight vim %}
let mapleader = "\<space>"
{% endhighlight %}

Note the required backslash.

It's also worth mentioning that some folks use folds so much that <kbd>Space</kbd> is bound to toggle folds:

{% highlight vim %}
nnoremap <space> za
nnoremap <CR> za
vnoremap <space> zf
{% endhighlight %}

I tried this but it never caught on. I always felt that <kbd>z</kbd><kbd>o</kbd> and <kbd>z</kbd><kbd>c</kbd> were easier to remember.

## Window Navigation

Multiple people mentioned binding <kbd>Ctrl</kbd>-direction to window-movement keys:

{% highlight vim %}
map <C-j> <C-W>j
map <C-k> <C-W>k
map <C-h> <C-W>h
map <C-l> <C-W>l
{% endhighlight %}

[Mark][artilleryteam] even appends <kbd>Ctrl-W</kbd><kbd>\_</kbd>. This maximizes the window's height after the cursor has switched to it, which produces an interesting effect akin to some tiling window managers I remember using:

{% highlight vim %}
map <C-J> <C-W>j<C-W>_
map <C-k> <C-W>k<C-W>_
map <C-h> <C-W>h<C-W>_
map <C-l> <C-W>l<C-W>_
{% endhighlight %}

## CSS Color

I mentioned at the bottom of the original post that I missed Emacs' CSS color-highlighting mode, which highlights colorsin the editor. A few people were quick to respond with [Max Vasiliev's vim-css-color plugin][csscolor1], which does exactly this, but it causes a long delay when opening files. Then I was referred to [Aristotle Pagaltzis' fork][csscolor2] which fast and causes no delay whatsoever. Thanks!

(XXXX pic of vim css color from ap)

## Other People's Code

If you're working with different projects it's possible that they'll have different style conventions, among other things. There's a plugin or script called "dirsettings" which reads `.vimdir` or `.vimrc` files in the current or parent directory(ies). See [the original script](http://www.vim.org/scripts/script.php?script_id=1860) or [the sequel](https://github.com/mantiz/vim-plugin-dirsettings) which walks up the directory tree and sources all settings along the way.

If the only project settings you set are whitespace, it might be worth looking into [Tim Pope's vim-sleuth plugin](https://github.com/tpope/vim-sleuth), which "adjusts `shiftwidth` and `expandtab` heuristically based on the current file, or, in the case the current file is new, blank, or otherwise insufficient, by looking at other files of the same type in the current and parent directories."

I'm still deciding on which one to try.

## Multiplexing

A lot of the forums discussed tmux, iTerm, screen and the like. I'll summarize.

[GNU Screen](http://www.gnu.org/software/screen/) has been the gold standard of terminal multiplexors since forever. Originally released in 1987, most of the bugs have been fixed, but new features are lacking -- most notably, vertical window splits -- and getting Unicode to work through it is sometimes a battle.

[tmux](http://tmux.sourceforge.net/) has risen to be the new hotness. It does vertical splits and it has great shell-scripting capabilities and much more. I've had an occasional crash and also experienced the keyboard slowness as described in [this tmux vs. screen comparison](http://superuser.com/questions/236158/tmux-vs-screen), but maybe I just need to upgrade to the current version.

[iTerm2](http://www.iterm2.com/) is a replacement for Terminal.app on Mac OS X. It does horizontal and vertical splits, you can change font sizes in each pane (tmux and screen can't do that, of course), and I think it "feels" faster than the built-in terminal application.

You can even integrate iTerm and tmux such that iTerm panes are mapped to tmux session panes. There's a blog post illustrating how this works [here](http://jtimberman.housepub.org/blog/2012/01/28/iterm2-with-tmux/).

Finally, someone mentioned [vimux](https://github.com/benmills/vimux), a plugin which lets you "easily interact with tmux from vim." From the description: "When you call `RunVimTmuxCommand`, vimux will create a 20% tall horizontal pane under your current tmux pane and execute a command in it without losing focus of vim." Sounds useful, but I'll stick with my <kbd>Ctrl-Z</kbd> solution I outlined in my [original post](vim.html).

## Completion

The responses to the post highlighted a few plugins I hadn't heard of.

[Jedi](https://github.com/davidhalter/jedi) looks awesome. If I were still writing Python daily I would definitely try it out:

(console.log 'XXX', screenshot of jedi)

There was a lot of discussion of [YouCompleteMe](http://valloric.github.com/YouCompleteMe/), a powerful completion system for "C-family" (C/C++/ObjC/ObjC++) languages:

(XXXX youcompleteme animation)

A lot of people swear by Cscope, "a very powerful interface allowing you to easily navigate C-like code files." You can read about integrating it [here on the Vim wiki](http://vim.wikia.com/wiki/Cscope).

Finally, [Eclim](http://eclim.org/) deserves a mention. By using Eclipse as a backend it brings a lot of [features](http://eclim.org/features.html) to Vim such as code completion, refactoring, generation, and whatnot. I've only gotten it to work once in my life and I didn't have a positive experience. Besides, if you're writing Java, the winner is [IntelliJ IDEA](http://www.jetbrains.com/idea/) -- it's got a [Vim emulation plugin](http://plugins.jetbrains.com/plugin/?id=164), too.

## Meta-Discussion

> "Every time I read an article like this, it's how a power user installs an array of plugins and customizations to really soup up Vim, which to me kind of misses the point. If you want that level whiz-bang, use Coda or Sublime Text 2 or Eclipse or whatever." --[Hacker News](http://news.ycombinator.com/item?id=5245426)

> "I've seen one too many love-letter-to-Vim blog posts where the author recommends a flashy plugin that does nothing to really improve productivity. You know what improves productivity? Mastering motions and operators." --["Stop the Vim Configuration Madness"](http://usevim.com/2013/02/20/configuration/)

I'd love to expand more on topics like _what does it mean to be an editor_ and _convention over configuration_, but maybe another time. It's sufficient enough to say Vim is toolbox -- you don't get everything you'll ever need in the toolbox at once; it grows and improves over years. Compare visual block mode with number ranges -- *of course* you should be able to select a block of text with the cursor instead of esoterically entering line numbers. Contrast this with fuzzy-filename file-finding -- in a file-based architecture, *of course* you should be able to jump to any file by hitting a key and typing any part of its name. Vim has a lot of intelligent stuff in its default distribution, but the authors couldn't think of everything.

On the other hand, maybe you don't want to spend *any* time configuring your editor and you want all the whiz-bang included. If so, check out [spf13-vim](http://vim.spf13.com/), which comes with all of the good plugins mentioned here and before and colors and everything. There's also [Janus](https://github.com/carlhuda/janus) but it's less impressive. I still think the right path is to start with an unconfigured, stock Vim distribution, but to each their own.

## Plugins

If you _do_ want to install plugins, I previously recommended [Pathogen][pathogen], but there was so much response to use [Vundle][vundle] that it's worth a discussion. What's the difference?

> Pathogen and Vundle are not the same thing: Pathogen could be called
> a "runtimepath manager" while Vundle is a "plugin manager". The difference is
> huge:
>
> * Pathogen's only purpose is to "inject" the directories located in
>   `~/.vim/bundle` into Vim's runtimepath and make sure the documentation for
>   all those plugins is correctly indexed. How they end up there and whether
>   they are up-to-date or not is not Pathogen's business.
>
> * Vundle, in addition to what Pathogen does, tries to deal with everything
>   else plugin-related: installating, removing, disabling, updating…
>
> So both plugins serve different purposes and solve different problems.
> 
> I don't like to have my plugins scattered around my `~/.vim` directory but
> I don't need any help for updating or installing them. That's not something
> I do often enough that I need a plugin to automatize it. Pathogen is all
> I need/want and it does its job perfectly.
> --[a comment on Reddit](http://www.reddit.com/r/vim/comments/18tp84/vim_after_11_years/c8i0f72)



## file exporers

FTP: http://www.marksanborn.net/software/modify-remote-files-with-vims-built-in-ftp-plugin/

## Misc

(although I know this is more about configuration than usage) the
:g// command, which I think most people don't know about.



------------------------

  [hnpost]: http://news.ycombinator.com/item?id=5244752
  [redditpost]: http://www.reddit.com/r/vim/comments/18tp84/vim_after_11_years/
  [semicolon]: http://vimdoc.sourceforge.net/htmldoc/motion.html#;
  [vimium]: http://vimium.github.com/
  [leader]: http://vimdoc.sourceforge.net/htmldoc/map.html#<Leader>
  [artillery]: https://artillery.com/
  [artilleryteam]: https://artillery.com/
  [csscolor1]: https://github.com/skammer/vim-css-color
  [csscolor2]: https://github.com/ap/vim-css-color
  [colorv]: https://github.com/Rykka/colorv.vim
  [pathogen]: https://github.com/tpope/vim-pathogen
  [vundle]: https://github.com/gmarik/vundle
